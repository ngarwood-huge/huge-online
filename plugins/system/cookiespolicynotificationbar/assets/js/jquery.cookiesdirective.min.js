function popupwindow(o,t,e,n){wLeft=window.screenLeft?window.screenLeft:window.screenX,wTop=window.screenTop?window.screenTop:window.screenY;var i=wLeft+window.innerWidth/2-e/2,a=wTop+window.innerHeight/2-n/2;return window.open(o,t,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+e+", height="+n+", top="+a+", left="+i)}jQuery.noConflict(),function(l){l.cookiesDirective=function(o){var i=l.extend({w357_position:"bottom",w357_duration:60,w357_animate_duration:2e3,w357_limit:0,w357_message:null,w357_buttonText:"Ok, I've understood!",w357_display_decline_btn:1,w357_buttonDeclineText:"Decline",w357_display_cancel_btn:0,w357_buttonCancelText:"Cancel",w357_buttonMoreText:"More Info",w357_buttonMoreLink:"",w357_display_more_info_btn:1,w357_fontColor:"#F1F1F3",w357_linkColor:"#FFF",w357_fontSize:"12px",w357_backgroundColor:"#323A45",w357_borderWidth:"1",w357_body_cover:"1",w357_height:"auto",w357_cookie_name:"cookiesDirective",w357_link_target:"_self",w357_popup_width:"800",w357_popup_height:"600",w357_customText:"Your custom text for the cookies policy goes here...",w357_more_info_btn_type:"link",w357_blockCookies:0,w357_enableConfirmationAlerts:0,w357_confirm_allow_msg:"Performing this action will enable all cookies set by this website. Are you sure that you want to enable all cookies on this website?",w357_confirm_delete_msg:"Performing this action will remove all cookies set by this website. Are you sure that you want to disable and delete all cookies from your browser?",w357_show_in_iframes:0,w357_shortcode_is_enabled_on_this_page:1,w357_base_url:"",w357_always_display:0,w357_expiration_cookies:365,w357_expiration_cookieAccept:365,w357_expiration_cookieDecline:180,w357_expiration_cookieCancel:3},o),a=function(){l.ajax({type:"GET",url:i.w357_base_url+"/index.php?option=com_ajax&plugin=cookiespolicynotificationbar&format=raw&method=displayCookiesTable",success:function(o){if(o.data){var e="";l.each(o.data,function(o,t){e=e+" "+t}),l(".cpnb-cookies-data").html(e)}else l(".cpnb-cookies-data").html(o)},error:function(o){var t="",e=l.parseJSON(o.responseText);for(key in e)t=t+" "+e[key]+"<br/>";l(".cpnb-cookies-data").html(t)}})};l(document).on({ajaxStart:function(){l(".cpnb-cookies-data").hide(),l(".cpnb-cookies-data-ajax").addClass("cpnb-loading-gif"),l(".cpnb-cookies-data-ajax-waiting-txt").show(),l(".cpnb-reload-btn").hide()},ajaxStop:function(){l(".cpnb-cookies-data").show(),l(".cpnb-cookies-data-ajax").removeClass("cpnb-loading-gif"),l(".cpnb-cookies-data-ajax-waiting-txt").hide(),l(".cpnb-reload-btn").show()}});l(document).on("click",".cpnb-reload-btn",function(o){o.preventDefault(),a()}),l(document).on("click",".cpnb-button-more-modal",function(o){o.preventDefault(),l(".cpnb-cookies-data").hide(),l(".cpnb-cookies-data-ajax").addClass("cpnb-loading-gif"),l(".cpnb-cookies-data-ajax-waiting-txt").show(),l(".cpnb-reload-btn").hide(),a()}),l(document).on("click",".cpnb-button-cancel",function(o){o.preventDefault();var t=i.w357_position.toLowerCase(),e=new Array;"top"==t?(e.in={top:"0"},e.out={top:"-300"}):"bottom"==t?(e.in={bottom:"0"},e.out={bottom:"-300"}):"top-left"==t||"top-right"==t?(e.in={top:"10"},e.out={top:"-300"}):"bottom-left"!=t&&"bottom-right"!=t||(e.in={bottom:"10"},e.out={bottom:"-300"}),l(".cpnb-outer").animate(e.out,1e3,function(){l(".cpnb-outer").remove()})}),l(document).on("click",".cpnb-button-decline",function(o){if(o.preventDefault(),i.w357_blockCookies&&i.w357_enableConfirmationAlerts&&!confirm(i.w357_confirm_delete_msg))return!1;var t=i.w357_position.toLowerCase(),e=new Array;"top"==t?(e.in={top:"0"},e.out={top:"-300"}):"bottom"==t?(e.in={bottom:"0"},e.out={bottom:"-300"}):"top-left"==t||"top-right"==t?(e.in={top:"10"},e.out={top:"-300"}):"bottom-left"!=t&&"bottom-right"!=t||(e.in={bottom:"10"},e.out={bottom:"-300"}),l(".cpnb-outer").animate(e.out,1e3,function(){l(".cpnb-outer").remove()}),l.ajax({type:"GET",dataType:"json",url:i.w357_base_url+"/index.php?option=com_ajax&plugin=cookiespolicynotificationbar&format=raw&method=declineCookies",success:function(o){},error:function(o){}}),i.w357_blockCookies&&location.reload(!0)});var c=function(o){return r()[o]||""},r=function(){var o=("string"==typeof document.cookie?document.cookie:"").trim();return(o?o.split(";"):[]).reduce(function(o,t){var e=t.split("=");return o[e[0].trim()]=1<e.length?e[1].trim():"",o},{})};if(l(document).on("click",".cpnb-delete-btn",function(o){if(o.preventDefault(),l(".cpnb-cookies-data").hide(),l(".cpnb-cookies-data-ajax").addClass("cpnb-loading-gif"),l(".cpnb-cookies-data-ajax-waiting-txt").show(),l(".cpnb-reload-btn").hide(),i.w357_blockCookies&&i.w357_enableConfirmationAlerts&&!confirm(i.w357_confirm_delete_msg))return!1;var t=i.w357_position.toLowerCase(),e=new Array;"top"==t?(e.in={top:"0"},e.out={top:"-300"}):"bottom"==t?(e.in={bottom:"0"},e.out={bottom:"-300"}):"top-left"==t||"top-right"==t?(e.in={top:"10"},e.out={top:"-300"}):"bottom-left"!=t&&"bottom-right"!=t||(e.in={bottom:"10"},e.out={bottom:"-300"}),l(".cpnb-outer").animate(e.out,1e3,function(){l(".cpnb-outer").remove()});var n=Object.keys(r());for(index=0;index<n.length;index++)l.removeCookie(n[index],{path:"/"}),l.removeCookie(n[index],{path:i.w357_base_url}),console.log("the "+n[index]+" has been deleted.");l.ajax({type:"GET",dataType:"json",url:i.w357_base_url+"/index.php?option=com_ajax&plugin=cookiespolicynotificationbar&format=raw&method=deleteCookies",success:function(o){if(1==o.offline)location.reload(!0);else if(!c(i.w357_cookie_name)&&!c("cookiesDeclined")||i.w357_always_display)if(0<i.w357_limit){if(c("cookiesDisclosureCount")){var t=c("cookiesDisclosureCount");_("cookiesDisclosureCount",++t,1)}else _("cookiesDisclosureCount",1,1);i.w357_limit>=c("cookiesDisclosureCount")&&s(i)}else s(i)},error:function(o){}}),setTimeout(function(){a()},1e3)}),l(document).on("click",".cpnb-allow-btn",function(o){if(o.preventDefault(),i.w357_blockCookies&&i.w357_enableConfirmationAlerts&&!confirm(i.w357_confirm_allow_msg))return!1;var t=i.w357_position.toLowerCase(),e=new Array;"top"==t?(e.in={top:"0"},e.out={top:"-300"}):"bottom"==t?(e.in={bottom:"0"},e.out={bottom:"-300"}):"top-left"==t||"top-right"==t?(e.in={top:"10"},e.out={top:"-300"}):"bottom-left"!=t&&"bottom-right"!=t||(e.in={bottom:"10"},e.out={bottom:"-300"}),l(".cpnb-outer").animate(e.out,1e3,function(){l(".cpnb-outer").remove()}),function(){var o=l(".cpnb-cookies-data").data("cookie-name");l.ajax({type:"GET",url:i.w357_base_url+"/index.php?option=com_ajax&plugin=cookiespolicynotificationbar&format=raw&method=allowCookies&cookie_name="+o,success:function(o){i.w357_blockCookies&&location.reload(!0)},error:function(o){}})}()}),parseInt(i.w357_shortcode_is_enabled_on_this_page)&&a(),!c(i.w357_cookie_name)&&!c("cookiesDeclined")||i.w357_always_display)if(0<i.w357_limit){if(c("cookiesDisclosureCount")){var t=c("cookiesDisclosureCount");_("cookiesDisclosureCount",++t,1)}else _("cookiesDisclosureCount",1,1);i.w357_limit>=c("cookiesDisclosureCount")&&s(i)}else s(i)},l.cookiesDirective.loadScript=function(o){var t=l.extend({uri:"",appendTo:"body"},o),e=String(t.appendTo),n=document.createElement("script");switch(n.src=t.uri,n.type="text/javascript",n.onload=n.onreadystatechange=function(){n.readyState&&"loaded"!=n.readyState&&n.readyState},t.appendTo){case"head":l("head").append(n);break;case"body":l("body").append(n);break;default:l("#"+e).append(n)}};var _=function(o,t,e){if(e){var n=new Date;n.setTime(n.getTime()+24*e*60*60*1e3);var i="; expires="+n.toGMTString()}else i="";document.cookie=o+"="+t+i+"; path=/"},s=function(o){var s=o;s.css="fixed",function(){var o;if("Microsoft Internet Explorer"!=navigator.appName)return!1;var t=navigator.userAgent;if(null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(o=parseFloat(RegExp.$1)),o<=8)return!0;if(9!=o)return!1;if("BackCompat"!=document.compatMode)return!1;var e=document.createElement("meta");return e.content="IE=EmulateIE8",document.getElementsByTagName("head")[0].appendChild(e),!0}()&&(s.w357_position="top",s.css="absolute");var t="";t+='<div class="cpnb" data-cookie-name="'+s.w357_cookie_name+'">';0<=["top","bottom"].indexOf(s.w357_position)?t+='<div class="cpnb-outer cpnb-'+s.w357_position+'" id="w357_cpnb_outer" style="position:'+s.css+";"+s.w357_position+":-300px;":(t+='<div class="cpnb-outer cpnb-div-position-'+s.w357_position+'" id="w357_cpnb_outer" style="position:'+s.css+";","top-left"==s.w357_position||"top-right"==s.w357_position?t+="top: -300px;":"bottom-left"!=s.w357_position&&"bottom-right"!=s.w357_position||(t+="bottom: -300px;"),t+="display: flex; justify-content: center; flex-direction: column; position: fixed; "),t+="height:"+s.w357_height+";background:"+s.w357_backgroundColor+";",t+="color:"+s.w357_fontColor+";font-size:"+s.w357_fontSize+';">',t+='<div class="cpnb-inner">',s.w357_message||(s.w357_message="We have placed cookies on your computer to help make this website better."),t+='<div class="cpnb-message">'+s.w357_message+"</div>";var e="popup"===s.w357_link_target?"onClick=\"popupwindow('"+s.w357_buttonMoreLink+"?cpnb=1', 'Cookies Policy', "+s.w357_popup_width+", "+s.w357_popup_height+'); return false;"':"";t+='<div class="cpnb-buttons">',t+='<a class="cpnb-button cpnb-button-ok">'+s.w357_buttonText+"</a>",s.w357_buttonDeclineText&&s.w357_display_decline_btn&&(t+='<a class="cpnb-button cpnb-button-decline">'+s.w357_buttonDeclineText+" </a>"),s.w357_buttonCancelText&&s.w357_display_cancel_btn&&(t+='<a class="cpnb-button cpnb-button-cancel">'+s.w357_buttonCancelText+" </a>"),"custom_text"===s.w357_more_info_btn_type?s.w357_buttonMoreText&&s.w357_display_more_info_btn&&(t+='<a class="cpnb-button cpnb-button-more-modal">'+s.w357_buttonMoreText+" </a>"):s.w357_buttonMoreText&&s.w357_display_more_info_btn&&(t+='<a target="'+s.w357_link_target+'" href="'+s.w357_buttonMoreLink+'" class="cpnb-button cpnb-button-more-default" '+e+">"+s.w357_buttonMoreText+"</a>"),t+='<div class="cpnb-clear-both"></div>',t+="</div>",t+="</div></div>",l("body").append(t);var n=s.w357_position.toLowerCase(),p=new Array;"top"==n?(p.in={top:"0"},p.out={top:"-300"}):"bottom"==n?(p.in={bottom:"0"},p.out={bottom:"-300"}):"top-left"==n||"top-right"==n?(p.in={top:"10"},p.out={top:"-300"}):"bottom-left"!=n&&"bottom-right"!=n||(p.in={bottom:"10"},p.out={bottom:"-300"}),s.w357_animate_duration=2e3,l(".cpnb-outer").animate(p.in,s.w357_animate_duration,function(){if(l(".cpnb-button-ok").click(function(){if(s.w357_blockCookies&&s.w357_enableConfirmationAlerts&&!confirm(s.w357_confirm_allow_msg))return!1;l(".cpnb-outer").animate(p.out,1e3,function(){l(".cpnb-outer").remove()}),l.ajax({type:"GET",url:s.w357_base_url+"/index.php?option=com_ajax&plugin=cookiespolicynotificationbar&format=raw&method=allowCookies&cookie_name="+s.w357_cookie_name,success:function(o){_(s.w357_cookie_name,1,s.w357_expiration_cookieAccept),s.w357_blockCookies&&location.reload(!0)},error:function(o){}})}),"custom_text"===s.w357_more_info_btn_type){var o=window.innerHeight,c=Math.max(150,o-250)+"px",r={content:"<span>Easy Modal/Dialog Box</span>",size:"medium",fadeInModal:800,fadeOutModal:800,buttonText:"Ok, I've understood."};l.easyModal=function(o){var t,e,n=l.extend({},r,o),i=l('<div class="cpnb-modal-wrap">').hide();function a(){$easyModal.fadeOut(n.fadeOutModal,function(){i.fadeOut(n.fadeOutModal).remove()}),l("html").css("overflow","visible");var o=s.w357_position.toLowerCase(),t=new Array;"top"==o?(t.in={top:"0"},t.out={top:"-300"}):"bottom"==o?(t.in={bottom:"0"},t.out={bottom:"-300"}):"top-left"==o||"top-right"==o?(t.in={top:"10"},t.out={top:"-300"}):"bottom-left"!=o&&"bottom-right"!=o||(t.in={bottom:"10"},t.out={bottom:"-300"}),l(".cpnb-outer").animate(t.out,1e3,function(){l(".cpnb-outer").remove()})}$easyModal=l('<div class="cpnb-modal-outer cpnb-modal-bg cpnb-close">\t\t\t\t\t\t\t\t<div class="cpnb-modal-inner cpnb-modal--'+n.size+'" style="max-height: '+c+'">'+n.content+'<span id="cpnb-modal-close" class="cpnb-modal-close cpnb-close cpnb-close-icon-x"></span>\t\t\t\t\t\t\t\t<div class="cpnb-modal-footer">\t\t\t\t\t\t\t\t<div class="cpnb-modal-actions"> \t\t\t\t\t\t\t\t<a class="cpnb-button cpnb-button-ok-modal">'+n.buttonText+"</a>\t\t\t\t\t\t\t\t"+(n.display_decline_btn?'<a class="cpnb-button cpnb-button-decline-modal">'+n.buttonDeclineText+"</a>":"")+"\t\t\t\t\t\t\t\t"+(n.display_cancel_btn?'<a class="cpnb-button cpnb-button-cancel-modal">'+n.buttonCancelText+"</a>":"")+"\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t</div>").hide(),$easyModal.find(".cpnb-close").on("click",function(o){a()}),$easyModal.find(".cpnb-button-cancel-modal").on("click",function(o){a()}),$easyModal.find(".cpnb-button-decline-modal").on("click",function(o){if(s.w357_blockCookies&&s.w357_enableConfirmationAlerts&&!confirm(s.w357_confirm_delete_msg))return!1;l.ajax({type:"GET",dataType:"json",url:s.w357_base_url+"/index.php?option=com_ajax&plugin=cookiespolicynotificationbar&format=raw&method=declineCookies",success:function(o){1==o.offline?location.reload(!0):a()},error:function(o){}});var t=s.w357_position.toLowerCase(),e=new Array;"top"==t?(e.in={top:"0"},e.out={top:"-300"}):"bottom"==t?(e.in={bottom:"0"},e.out={bottom:"-300"}):"top-left"==t||"top-right"==t?(e.in={top:"10"},e.out={top:"-300"}):"bottom-left"!=t&&"bottom-right"!=t||(e.in={bottom:"10"},e.out={bottom:"-300"}),l(".cpnb-outer").animate(e.out,1e3,function(){l(".cpnb-outer").remove()})}),$easyModal.find(".cpnb-button-ok-modal").on("click",function(o){if(s.w357_blockCookies&&s.w357_enableConfirmationAlerts&&!confirm(s.w357_confirm_allow_msg))return!1;l(".cpnb-outer").animate(p.out,1e3,function(){l(".cpnb-outer").remove()}),a(),s.w357_blockCookies?l.ajax({type:"GET",url:s.w357_base_url+"/index.php?option=com_ajax&plugin=cookiespolicynotificationbar&format=raw&method=allowCookies&cookie_name="+s.w357_cookie_name,success:function(o){_(s.w357_cookie_name,1,s.w357_expiration_cookieAccept),s.w357_blockCookies&&location.reload(!0)},error:function(o){}}):_(s.w357_cookie_name,1,s.w357_expiration_cookieAccept)}),l("body").prepend(i.append($easyModal)),i.fadeIn(n.fadeInModal,function(){$easyModal.fadeIn(n.fadeInModal)}),t=Math.max(l(window).height()-$easyModal.outerHeight(),0)/2,e=Math.max(l(window).width()-$easyModal.outerWidth(),0)/2,$easyModal.css({top:t+l(window).scrollTop(),left:e+l(window).scrollLeft()}),l("html").css("overflow","hidden"),"top"==s.w357_position.toLowerCase()?(l(".cpnb-modal-bg").css("-webkit-align-items","center"),l(".cpnb-modal-bg").css("align-items","center")):(l(".cpnb-modal-bg").css("-webkit-align-items","flex-start"),l(".cpnb-modal-bg").css("align-items","flex-start")),l(window).on("resize",function(){var o=window.innerHeight;l(".cpnb-modal-inner").css("max-height",o-250+"px")})},l(document).mouseup(function(o){var t=l(".cpnb-modal-inner");t.is(o.target)||0!==t.has(o.target).length||(l(".cpnb-modal-outer").fadeOut(800,function(){l(".cpnb-modal-wrap").fadeOut(800).remove()}),l("html").css("overflow-y","scroll"))}),l(".cpnb-button-ok").click(function(){l(".cpnb-modal-outer").fadeOut(800,function(){l(".cpnb-modal-wrap").fadeOut(800).remove()})}),l(".cpnb-button-more-modal").click(function(o){l.easyModal({content:s.w357_customText,size:"medium",fadeInModal:0,buttonText:s.w357_buttonText,display_decline_btn:s.w357_display_decline_btn,buttonDeclineText:s.w357_buttonDeclineText,display_cancel_btn:s.w357_display_cancel_btn,buttonCancelText:s.w357_buttonCancelText})})}var t=l("#w357_cpnb_outer").height();console.log(t+"xxx"),0===s.w357_body_cover&&null!=t&&0<t&&("top"==s.w357_position?l("body").css("padding-top",t+"px"):l("body").css("padding-bottom",t+"px")),setTimeout(function(){l(".cpnb-outer").animate({opacity:"0"},s.w357_animate_duration,function(){l(".cpnb-outer").css(n,"-300px")})},1e3*s.w357_duration)})};l(window).load(function(){if(cpnb=cpnb_config,cpnb){if(0==cpnb.w357_show_in_iframes&&top!=self)return!1;l.cookiesDirective({w357_position:cpnb.w357_position,w357_duration:parseInt(cpnb.w357_duration),w357_animate_duration:parseInt(cpnb.w357_animate_duration+1e3),w357_limit:parseInt(cpnb.w357_limit),w357_message:cpnb.w357_message,w357_buttonText:cpnb.w357_buttonText,w357_display_decline_btn:parseInt(cpnb.w357_display_decline_btn),w357_buttonDeclineText:cpnb.w357_buttonDeclineText,w357_display_cancel_btn:parseInt(cpnb.w357_display_cancel_btn),w357_buttonCancelText:cpnb.w357_buttonCancelText,w357_buttonMoreText:cpnb.w357_buttonMoreText,w357_buttonMoreLink:cpnb.w357_buttonMoreLink,w357_display_more_info_btn:parseInt(cpnb.w357_display_more_info_btn),w357_fontColor:cpnb.w357_fontColor,w357_linkColor:cpnb.w357_linkColor,w357_fontSize:cpnb.w357_fontSize,w357_backgroundColor:cpnb.w357_backgroundColor,w357_borderWidth:parseInt(cpnb.w357_borderWidth),w357_body_cover:parseInt(cpnb.w357_body_cover),w357_height:cpnb.w357_height,w357_cookie_name:cpnb.w357_cookie_name,w357_link_target:cpnb.w357_link_target,w357_popup_width:cpnb.w357_popup_width,w357_popup_height:cpnb.w357_popup_height,w357_customText:cpnb.w357_customText,w357_more_info_btn_type:cpnb.w357_more_info_btn_type,w357_blockCookies:parseInt(cpnb.w357_blockCookies),w357_enableConfirmationAlerts:parseInt(cpnb.w357_enableConfirmationAlerts),w357_confirm_allow_msg:cpnb.w357_confirm_allow_msg,w357_confirm_delete_msg:cpnb.w357_confirm_delete_msg,w357_show_in_iframes:parseInt(cpnb.w357_show_in_iframes),w357_shortcode_is_enabled_on_this_page:parseInt(cpnb.w357_shortcode_is_enabled_on_this_page),w357_base_url:cpnb.w357_base_url,w357_always_display:parseInt(cpnb.w357_always_display),w357_expiration_cookies:parseInt(cpnb.w357_expiration_cookies),w357_expiration_cookieAccept:parseInt(cpnb.w357_expiration_cookieAccept),w357_expiration_cookieDecline:parseInt(cpnb.w357_expiration_cookieDecline),w357_expiration_cookieCancel:parseInt(cpnb.w357_expiration_cookieCancel)})}else console.log("error loading cpnb_config json data")})}(jQuery);